local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RainbowGui"
screenGui.Parent = game.CoreGui

-- Rainbow Farben Funktion
local function getRainbowColor()
    local time = tick()
    return Color3.fromHSV(time % 5 / 5, 1, 1)
end

-- Rainbow Hintergrund für GUI
local function createRainbowBackground(frame)
    frame.BackgroundColor3 = getRainbowColor()
    game:GetService("RunService").Heartbeat:Connect(function()
        frame.BackgroundColor3 = getRainbowColor()
    end)
end

-- Hauptmenü Frame (zunächst unsichtbar)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 200)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
mainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
mainFrame.Visible = false
mainFrame.Parent = screenGui
createRainbowBackground(mainFrame)

-- Key Eingabe Frame
local keyFrame = Instance.new("Frame")
keyFrame.Size = UDim2.new(0, 300, 0, 150)
keyFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
keyFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
keyFrame.Parent = screenGui

local keyTextBox = Instance.new("TextBox")
keyTextBox.Size = UDim2.new(1, -20, 0, 50)
keyTextBox.Position = UDim2.new(0, 10, 0.5, -25)
keyTextBox.PlaceholderText = "Enter Key"
keyTextBox.Text = ""
keyTextBox.TextSize = 18
keyTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
keyTextBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
keyTextBox.Font = Enum.Font.SourceSans
keyTextBox.Parent = keyFrame

local submitKeyButton = Instance.new("TextButton")
submitKeyButton.Size = UDim2.new(1, -20, 0, 40)
submitKeyButton.Position = UDim2.new(0, 10, 1, -50)
submitKeyButton.Text = "Submit Key"
submitKeyButton.TextSize = 18
submitKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
submitKeyButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
submitKeyButton.Font = Enum.Font.SourceSans
submitKeyButton.Parent = keyFrame

submitKeyButton.MouseButton1Click:Connect(function()
    if keyTextBox.Text == "2222" then
        keyFrame.Visible = false
        mainFrame.Visible = true
    else
        keyTextBox.Text = "Invalid Key"
        task.wait(1)
        keyTextBox.Text = ""
    end
end)

-- Toggle Status Anzeige
local function updateToggleStatus(button, isActive)
    button.Text = isActive and button.Text .. " (ON)" or button.Text:gsub(" %(ON%)", "")
end

-- Noclip und Speed
local noclip = false
local canDelete = false
local deletedObjects = {}

local noclipButton = Instance.new("TextButton")
noclipButton.Size = UDim2.new(1, -10, 0, 40)
noclipButton.Position = UDim2.new(0, 5, 0, 10)
noclipButton.Text = "Toggle Noclip"
noclipButton.TextSize = 18
noclipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
noclipButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
noclipButton.Font = Enum.Font.SourceSans
noclipButton.Parent = mainFrame

noclipButton.MouseButton1Click:Connect(function()
    noclip = not noclip
    updateToggleStatus(noclipButton, noclip)
    if noclip then
        local player = game.Players.LocalPlayer
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            local humanoid = player.Character.Humanoid
            humanoid.WalkSpeed = humanoid.WalkSpeed * 2
        end
    else
        local player = game.Players.LocalPlayer
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            local humanoid = player.Character.Humanoid
            humanoid.WalkSpeed = humanoid.WalkSpeed / 2
        end
    end
end)

-- Löschen-Modus
local deleteButton = Instance.new("TextButton")
deleteButton.Size = UDim2.new(1, -10, 0, 40)
deleteButton.Position = UDim2.new(0, 5, 0, 60)
deleteButton.Text = "Toggle Delete Mode"
deleteButton.TextSize = 18
deleteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
deleteButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
deleteButton.Font = Enum.Font.SourceSans
deleteButton.Parent = mainFrame

deleteButton.MouseButton1Click:Connect(function()
    canDelete = not canDelete
    updateToggleStatus(deleteButton, canDelete)
    if not canDelete then
        for _, obj in ipairs(deletedObjects) do
            if obj.Parent == nil then
                obj.Parent = game.Workspace
            end
        end
        deletedObjects = {}
    end
end)

-- Löschen-Logik
game:GetService("RunService").Stepped:Connect(function()
    local player = game.Players.LocalPlayer
    if canDelete then
        local mouse = player:GetMouse()
        local target = mouse.Target
        if target and target.Parent == game.Workspace then
            if not table.find(deletedObjects, target) then
                table.insert(deletedObjects, target)
                target.Parent = nil
            end
        end
    end
end)

-- Menü Button (unten rechts)
local menuButton = Instance.new("TextButton")
menuButton.Size = UDim2.new(0, 50, 0, 50)
menuButton.Position = UDim2.new(1, -60, 1, -60)
menuButton.Text = "≡"
menuButton.TextSize = 24
menuButton.TextColor3 = Color3.fromRGB(255, 255, 255)
menuButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
menuButton.Font = Enum.Font.SourceSans
menuButton.Parent = screenGui

menuButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- Rainbow-Effekt für alle Buttons
game:GetService("RunService").Heartbeat:Connect(function()
    noclipButton.BackgroundColor3 = getRainbowColor()
    deleteButton.BackgroundColor3 = getRainbowColor()
end)
